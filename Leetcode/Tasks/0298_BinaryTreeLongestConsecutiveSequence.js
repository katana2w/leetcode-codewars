/**
 * –î–∞–Ω –∫–æ—Ä–µ–Ω—å –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞, –≤–µ—Ä–Ω–∏—Ç–µ –¥–ª–∏–Ω—É —Å–∞–º–æ–≥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
 * –ü—É—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π ‚Äî —ç—Ç–æ –ø—É—Ç—å, –≥–¥–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É –≤–¥–æ–ª—å –ø—É—Ç–∏.
 * –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—É—Ç—å –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –ª—é–±–æ–≥–æ —É–∑–ª–∞ –≤ –¥–µ—Ä–µ–≤–µ, –∏ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç —É–∑–ª–∞ –∫ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—é –Ω–∞ –ø—É—Ç–∏.
 *
 * –ü—Ä–∏–º–µ—Ä:
 * Input: root = [1,null,3,2,4,null,null,null,5]
 * Output: 3
 * Explanation: Longest consecutive sequence path is 3-4-5, so return 3.
 *
 * üë®‚Äçüíª –ê–ª–≥–æ—Ä–∏—Ç–º:
 *
 * 1‚É£–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—á–∞–ª–æ –æ–±—Ö–æ–¥–∞:
 * –ù–∞—á–Ω–∏—Ç–µ –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ —Å –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É–∑–ª–∞.
 * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é length, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–ª–∏–Ω—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏, –∏ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –µ—ë –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É.
 *
 * 2‚É£–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º —É–∑–ª–æ–º:
 * –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ —Å—Ä–∞–≤–Ω–∏—Ç–µ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–∑–ª–∞.
 * –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É –±–æ–ª—å—à–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–∑–ª–∞, —É–≤–µ–ª–∏—á—å—Ç–µ length.
 * –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º (–Ω–µ –±–æ–ª—å—à–µ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É), —Å–±—Ä–æ—Å—å—Ç–µ length –Ω–∞ 1.
 *
 * 3‚É£–û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞:
 * –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç–µ –ª–µ–≤–æ–µ –∏ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –ø–µ—Ä–µ–¥–∞–≤–∞—è –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ length.
 * –í –∫–∞–∂–¥–æ–º —É–∑–ª–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –¥–ª–∏–Ω–∞ –±–æ–ª—å—à–µ.
 */


class Solution {
    constructor() {
        this.maxLength = 0;
    }

    longestConsecutive(root) {
        this.dfs(root, null, 0);
        return this.maxLength;
    }

    dfs(node, parent, length) {
        if (!node) return;
        if (parent && node.val === parent.val + 1) {
            length++;
        } else {
            length = 1;
        }
        this.maxLength = Math.max(this.maxLength, length);
        this.dfs(node.left, node, length);
        this.dfs(node.right, node, length);
    }
}

